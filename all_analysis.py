import os


def mainscan(args):
    target_dir = os.path.abspath(args.directory)
    for root, _, filenames in os.walk(target_dir):
        for filename in filenames:
            os.makedirs("analysis_report", exist_ok=True)
            file_path = os.path.join(root, filename)
            os.system("python3 ssma.py %s -r yes" % file_path)
